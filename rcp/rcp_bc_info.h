#include <stdint.h>

typedef enum {
BCMISMATCH_BCOP = 0,
RETURN_BCOP = 1,
GOTO_BCOP = 2,
BRIFNOT_BCOP = 3,
POP_BCOP = 4,
DUP_BCOP = 5,
PRINTVALUE_BCOP = 6,
STARTLOOPCNTXT_BCOP = 7,
ENDLOOPCNTXT_BCOP = 8,
DOLOOPNEXT_BCOP = 9,
DOLOOPBREAK_BCOP = 10,
STARTFOR_BCOP = 11,
STEPFOR_BCOP = 12,
ENDFOR_BCOP = 13,
SETLOOPVAL_BCOP = 14,
INVISIBLE_BCOP = 15,
LDCONST_BCOP = 16,
LDNULL_BCOP = 17,
LDTRUE_BCOP = 18,
LDFALSE_BCOP = 19,
GETVAR_BCOP = 20,
DDVAL_BCOP = 21,
SETVAR_BCOP = 22,
GETFUN_BCOP = 23,
GETGLOBFUN_BCOP = 24,
GETSYMFUN_BCOP = 25,
GETBUILTIN_BCOP = 26,
GETINTLBUILTIN_BCOP = 27,
CHECKFUN_BCOP = 28,
MAKEPROM_BCOP = 29,
DOMISSING_BCOP = 30,
SETTAG_BCOP = 31,
DODOTS_BCOP = 32,
PUSHARG_BCOP = 33,
PUSHCONSTARG_BCOP = 34,
PUSHNULLARG_BCOP = 35,
PUSHTRUEARG_BCOP = 36,
PUSHFALSEARG_BCOP = 37,
CALL_BCOP = 38,
CALLBUILTIN_BCOP = 39,
CALLSPECIAL_BCOP = 40,
MAKECLOSURE_BCOP = 41,
UMINUS_BCOP = 42,
UPLUS_BCOP = 43,
ADD_BCOP = 44,
SUB_BCOP = 45,
MUL_BCOP = 46,
DIV_BCOP = 47,
EXPT_BCOP = 48,
SQRT_BCOP = 49,
EXP_BCOP = 50,
EQ_BCOP = 51,
NE_BCOP = 52,
LT_BCOP = 53,
LE_BCOP = 54,
GE_BCOP = 55,
GT_BCOP = 56,
AND_BCOP = 57,
OR_BCOP = 58,
NOT_BCOP = 59,
DOTSERR_BCOP = 60,
STARTASSIGN_BCOP = 61,
ENDASSIGN_BCOP = 62,
STARTSUBSET_BCOP = 63,
DFLTSUBSET_BCOP = 64,
STARTSUBASSIGN_BCOP = 65,
DFLTSUBASSIGN_BCOP = 66,
STARTC_BCOP = 67,
DFLTC_BCOP = 68,
STARTSUBSET2_BCOP = 69,
DFLTSUBSET2_BCOP = 70,
STARTSUBASSIGN2_BCOP = 71,
DFLTSUBASSIGN2_BCOP = 72,
DOLLAR_BCOP = 73,
DOLLARGETS_BCOP = 74,
ISNULL_BCOP = 75,
ISLOGICAL_BCOP = 76,
ISINTEGER_BCOP = 77,
ISDOUBLE_BCOP = 78,
ISCOMPLEX_BCOP = 79,
ISCHARACTER_BCOP = 80,
ISSYMBOL_BCOP = 81,
ISOBJECT_BCOP = 82,
ISNUMERIC_BCOP = 83,
VECSUBSET_BCOP = 84,
MATSUBSET_BCOP = 85,
VECSUBASSIGN_BCOP = 86,
MATSUBASSIGN_BCOP = 87,
AND1ST_BCOP = 88,
AND2ND_BCOP = 89,
OR1ST_BCOP = 90,
OR2ND_BCOP = 91,
GETVAR_MISSOK_BCOP = 92,
DDVAL_MISSOK_BCOP = 93,
VISIBLE_BCOP = 94,
SETVAR2_BCOP = 95,
STARTASSIGN2_BCOP = 96,
ENDASSIGN2_BCOP = 97,
SETTER_CALL_BCOP = 98,
GETTER_CALL_BCOP = 99,
SWAP_BCOP = 100,
DUP2ND_BCOP = 101,
SWITCH_BCOP = 102,
RETURNJMP_BCOP = 103,
STARTSUBSET_N_BCOP = 104,
STARTSUBASSIGN_N_BCOP = 105,
VECSUBSET2_BCOP = 106,
MATSUBSET2_BCOP = 107,
VECSUBASSIGN2_BCOP = 108,
MATSUBASSIGN2_BCOP = 109,
STARTSUBSET2_N_BCOP = 110,
STARTSUBASSIGN2_N_BCOP = 111,
SUBSET_N_BCOP = 112,
SUBSET2_N_BCOP = 113,
SUBASSIGN_N_BCOP = 114,
SUBASSIGN2_N_BCOP = 115,
LOG_BCOP = 116,
LOGBASE_BCOP = 117,
MATH1_BCOP = 118,
DOTCALL_BCOP = 119,
COLON_BCOP = 120,
SEQALONG_BCOP = 121,
SEQLEN_BCOP = 122,
BASEGUARD_BCOP = 123,
INCLNK_BCOP = 124,
DECLNK_BCOP = 125,
DECLNK_N_BCOP = 126,
INCLNKSTK_BCOP = 127,
DECLNKSTK_BCOP = 128
} RCP_BC_OPCODES;

static uint8_t RCP_BC_ARG_CNT[] __attribute__((unused)) = {
/*BCMISMATCH.OP*/ 0,
/*RETURN.OP*/ 0,
/*GOTO.OP*/ 1,
/*BRIFNOT.OP*/ 2,
/*POP.OP*/ 0,
/*DUP.OP*/ 0,
/*PRINTVALUE.OP*/ 0,
/*STARTLOOPCNTXT.OP*/ 2,
/*ENDLOOPCNTXT.OP*/ 1,
/*DOLOOPNEXT.OP*/ 0,
/*DOLOOPBREAK.OP*/ 0,
/*STARTFOR.OP*/ 3,
/*STEPFOR.OP*/ 1,
/*ENDFOR.OP*/ 0,
/*SETLOOPVAL.OP*/ 0,
/*INVISIBLE.OP*/ 0,
/*LDCONST.OP*/ 1,
/*LDNULL.OP*/ 0,
/*LDTRUE.OP*/ 0,
/*LDFALSE.OP*/ 0,
/*GETVAR.OP*/ 1,
/*DDVAL.OP*/ 1,
/*SETVAR.OP*/ 1,
/*GETFUN.OP*/ 1,
/*GETGLOBFUN.OP*/ 1,
/*GETSYMFUN.OP*/ 1,
/*GETBUILTIN.OP*/ 1,
/*GETINTLBUILTIN.OP*/ 1,
/*CHECKFUN.OP*/ 0,
/*MAKEPROM.OP*/ 1,
/*DOMISSING.OP*/ 0,
/*SETTAG.OP*/ 1,
/*DODOTS.OP*/ 0,
/*PUSHARG.OP*/ 0,
/*PUSHCONSTARG.OP*/ 1,
/*PUSHNULLARG.OP*/ 0,
/*PUSHTRUEARG.OP*/ 0,
/*PUSHFALSEARG.OP*/ 0,
/*CALL.OP*/ 1,
/*CALLBUILTIN.OP*/ 1,
/*CALLSPECIAL.OP*/ 1,
/*MAKECLOSURE.OP*/ 1,
/*UMINUS.OP*/ 1,
/*UPLUS.OP*/ 1,
/*ADD.OP*/ 1,
/*SUB.OP*/ 1,
/*MUL.OP*/ 1,
/*DIV.OP*/ 1,
/*EXPT.OP*/ 1,
/*SQRT.OP*/ 1,
/*EXP.OP*/ 1,
/*EQ.OP*/ 1,
/*NE.OP*/ 1,
/*LT.OP*/ 1,
/*LE.OP*/ 1,
/*GE.OP*/ 1,
/*GT.OP*/ 1,
/*AND.OP*/ 1,
/*OR.OP*/ 1,
/*NOT.OP*/ 1,
/*DOTSERR.OP*/ 0,
/*STARTASSIGN.OP*/ 1,
/*ENDASSIGN.OP*/ 1,
/*STARTSUBSET.OP*/ 2,
/*DFLTSUBSET.OP*/ 0,
/*STARTSUBASSIGN.OP*/ 2,
/*DFLTSUBASSIGN.OP*/ 0,
/*STARTC.OP*/ 2,
/*DFLTC.OP*/ 0,
/*STARTSUBSET2.OP*/ 2,
/*DFLTSUBSET2.OP*/ 0,
/*STARTSUBASSIGN2.OP*/ 2,
/*DFLTSUBASSIGN2.OP*/ 0,
/*DOLLAR.OP*/ 2,
/*DOLLARGETS.OP*/ 2,
/*ISNULL.OP*/ 0,
/*ISLOGICAL.OP*/ 0,
/*ISINTEGER.OP*/ 0,
/*ISDOUBLE.OP*/ 0,
/*ISCOMPLEX.OP*/ 0,
/*ISCHARACTER.OP*/ 0,
/*ISSYMBOL.OP*/ 0,
/*ISOBJECT.OP*/ 0,
/*ISNUMERIC.OP*/ 0,
/*VECSUBSET.OP*/ 1,
/*MATSUBSET.OP*/ 1,
/*VECSUBASSIGN.OP*/ 1,
/*MATSUBASSIGN.OP*/ 1,
/*AND1ST.OP*/ 2,
/*AND2ND.OP*/ 1,
/*OR1ST.OP*/ 2,
/*OR2ND.OP*/ 1,
/*GETVAR_MISSOK.OP*/ 1,
/*DDVAL_MISSOK.OP*/ 1,
/*VISIBLE.OP*/ 0,
/*SETVAR2.OP*/ 1,
/*STARTASSIGN2.OP*/ 1,
/*ENDASSIGN2.OP*/ 1,
/*SETTER_CALL.OP*/ 2,
/*GETTER_CALL.OP*/ 1,
/*SWAP.OP*/ 0,
/*DUP2ND.OP*/ 0,
/*SWITCH.OP*/ 4,
/*RETURNJMP.OP*/ 0,
/*STARTSUBSET_N.OP*/ 2,
/*STARTSUBASSIGN_N.OP*/ 2,
/*VECSUBSET2.OP*/ 1,
/*MATSUBSET2.OP*/ 1,
/*VECSUBASSIGN2.OP*/ 1,
/*MATSUBASSIGN2.OP*/ 1,
/*STARTSUBSET2_N.OP*/ 2,
/*STARTSUBASSIGN2_N.OP*/ 2,
/*SUBSET_N.OP*/ 2,
/*SUBSET2_N.OP*/ 2,
/*SUBASSIGN_N.OP*/ 2,
/*SUBASSIGN2_N.OP*/ 2,
/*LOG.OP*/ 1,
/*LOGBASE.OP*/ 1,
/*MATH1.OP*/ 2,
/*DOTCALL.OP*/ 2,
/*COLON.OP*/ 1,
/*SEQALONG.OP*/ 1,
/*SEQLEN.OP*/ 1,
/*BASEGUARD.OP*/ 2,
/*INCLNK.OP*/ 0,
/*DECLNK.OP*/ 0,
/*DECLNK_N.OP*/ 1,
/*INCLNKSTK.OP*/ 0,
/*DECLNKSTK.OP*/ 0
};

static int8_t RCP_BC_STACK_EFFECT[] __attribute__((unused)) = {
/*BCMISMATCH.OP*/ 0,
/*RETURN.OP*/ -1,
/*GOTO.OP*/ 0,
/*BRIFNOT.OP*/ -1,
/*POP.OP*/ -1,
/*DUP.OP*/ 1,
/*PRINTVALUE.OP*/ 0,
/*STARTLOOPCNTXT.OP*/ 0,
/*ENDLOOPCNTXT.OP*/ 0,
/*DOLOOPNEXT.OP*/ 0,
/*DOLOOPBREAK.OP*/ 0,
/*STARTFOR.OP*/ 2,
/*STEPFOR.OP*/ 0,
/*ENDFOR.OP*/ -2,
/*SETLOOPVAL.OP*/ 0,
/*INVISIBLE.OP*/ 0,
/*LDCONST.OP*/ 1,
/*LDNULL.OP*/ 1,
/*LDTRUE.OP*/ 1,
/*LDFALSE.OP*/ 1,
/*GETVAR.OP*/ 1,
/*DDVAL.OP*/ 1,
/*SETVAR.OP*/ 0,
/*GETFUN.OP*/ 3,
/*GETGLOBFUN.OP*/ 0,
/*GETSYMFUN.OP*/ 0,
/*GETBUILTIN.OP*/ 3,
/*GETINTLBUILTIN.OP*/ 3,
/*CHECKFUN.OP*/ 2,
/*MAKEPROM.OP*/ 0,
/*DOMISSING.OP*/ 0,
/*SETTAG.OP*/ 0,
/*DODOTS.OP*/ 0,
/*PUSHARG.OP*/ -1,
/*PUSHCONSTARG.OP*/ 0,
/*PUSHNULLARG.OP*/ 0,
/*PUSHTRUEARG.OP*/ 0,
/*PUSHFALSEARG.OP*/ 0,
/*CALL.OP*/ -2,
/*CALLBUILTIN.OP*/ -2,
/*CALLSPECIAL.OP*/ 1,
/*MAKECLOSURE.OP*/ 1,
/*UMINUS.OP*/ 0,
/*UPLUS.OP*/ 0,
/*ADD.OP*/ -1,
/*SUB.OP*/ -1,
/*MUL.OP*/ -1,
/*DIV.OP*/ -1,
/*EXPT.OP*/ -1,
/*SQRT.OP*/ 0,
/*EXP.OP*/ 0,
/*EQ.OP*/ -1,
/*NE.OP*/ -1,
/*LT.OP*/ -1,
/*LE.OP*/ -1,
/*GE.OP*/ -1,
/*GT.OP*/ -1,
/*AND.OP*/ -1,
/*OR.OP*/ -1,
/*NOT.OP*/ 0,
/*DOTSERR.OP*/ 0,
/*STARTASSIGN.OP*/ 3,
/*ENDASSIGN.OP*/ -2,
/*STARTSUBSET.OP*/ 3,
/*DFLTSUBSET.OP*/ -3,
/*STARTSUBASSIGN.OP*/ 3,
/*DFLTSUBASSIGN.OP*/ -4,
/*STARTC.OP*/ 0,
/*DFLTC.OP*/ 0,
/*STARTSUBSET2.OP*/ 3,
/*DFLTSUBSET2.OP*/ -3,
/*STARTSUBASSIGN2.OP*/ 3,
/*DFLTSUBASSIGN2.OP*/ -4,
/*DOLLAR.OP*/ 0,
/*DOLLARGETS.OP*/ -1,
/*ISNULL.OP*/ 0,
/*ISLOGICAL.OP*/ 0,
/*ISINTEGER.OP*/ 0,
/*ISDOUBLE.OP*/ 0,
/*ISCOMPLEX.OP*/ 0,
/*ISCHARACTER.OP*/ 0,
/*ISSYMBOL.OP*/ 0,
/*ISOBJECT.OP*/ 0,
/*ISNUMERIC.OP*/ 0,
/*VECSUBSET.OP*/ -1,
/*MATSUBSET.OP*/ -2,
/*VECSUBASSIGN.OP*/ -2,
/*MATSUBASSIGN.OP*/ -3,
/*AND1ST.OP*/ 0,
/*AND2ND.OP*/ -1,
/*OR1ST.OP*/ 0,
/*OR2ND.OP*/ -1,
/*GETVAR_MISSOK.OP*/ 1,
/*DDVAL_MISSOK.OP*/ 1,
/*VISIBLE.OP*/ 0,
/*SETVAR2.OP*/ 1,
/*STARTASSIGN2.OP*/ 3,
/*ENDASSIGN2.OP*/ -2,
/*SETTER_CALL.OP*/ -4,
/*GETTER_CALL.OP*/ -2,
/*SWAP.OP*/ 0,
/*DUP2ND.OP*/ 1,
/*SWITCH.OP*/ -1,
/*RETURNJMP.OP*/ -1,
/*STARTSUBSET_N.OP*/ 0,
/*STARTSUBASSIGN_N.OP*/ 0,//todo
/*VECSUBSET2.OP*/ -1,
/*MATSUBSET2.OP*/ -2,
/*VECSUBASSIGN2.OP*/ -2,
/*MATSUBASSIGN2.OP*/ -3,
/*STARTSUBSET2_N.OP*/ 0,
/*STARTSUBASSIGN2_N.OP*/ 0,//todo
/*SUBSET_N.OP*/ 0,//-n,
/*SUBSET2_N.OP*/ 0,//-n,
/*SUBASSIGN_N.OP*/ -1,//-n-1,
/*SUBASSIGN2_N.OP*/ -1,//-n-1,
/*LOG.OP*/ 0,
/*LOGBASE.OP*/ -1,
/*MATH1.OP*/ 0,
/*DOTCALL.OP*/ 0,
/*COLON.OP*/ -1,
/*SEQALONG.OP*/ 0,
/*SEQLEN.OP*/ 0,
/*BASEGUARD.OP*/ 0,
/*INCLNK.OP*/ 0,
/*DECLNK.OP*/ 0,
/*DECLNK_N.OP*/ 0,
/*INCLNKSTK.OP*/ 1,
/*DECLNKSTK.OP*/ -1
};
